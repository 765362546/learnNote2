<% include common/header.ejs%>

<table>
    <tr><th>微博标题</th><th>微博内容</th><th>发表时间</th></tr>
    <% blogs.forEach(function(blog){ %>
        <tr><td><a href="/view/<%=blog._id%>"><%=blog.title%></a></td><td><%=blog.content%></td><td><%=blog.time%></td></tr>

    <%  });  %>
</table>
<script>

    var aa=new Date('<%=blogs[0].time%>');
    console.log(typeof aa);
    console.log(aa);






    Date.prototype.format = function(format) {
        var date = {
            "M+": this.getMonth() + 1,
            "d+": this.getDate(),
            "h+": this.getHours(),
            "m+": this.getMinutes(),
            "s+": this.getSeconds(),
            "q+": Math.floor((this.getMonth() + 3) / 3),
            "S+": this.getMilliseconds()
        };
        if (/(y+)/i.test(format)) {
            format = format.replace(RegExp.$1, (this.getFullYear() + '').substr(4 - RegExp.$1.length));
        }
        for (var k in date) {
            if (new RegExp("(" + k + ")").test(format)) {
                format = format.replace(RegExp.$1, RegExp.$1.length == 1
                    ? date[k] : ("00" + date[k]).substr(("" + date[k]).length));
            }
        }
        return format;
    }
    console.log(aa.format('yyyy-MM-dd h:m:s'));

</script>

<% include common/footer.ejs%>